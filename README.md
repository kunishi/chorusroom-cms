# chorusroom-cms

自分が運営している[合唱の部屋](http://chorusroom.org/)というサイトのコンテンツ管理のために、
2002年頃に自作したシステムです。レポジトリ名にCMSとありますが、[Jekyll](http://jekyllrb.com)
のように静的にWebサイトを生成します。
当時の主力コンテンツが関連Webサイトへのリンク集やコンクールの結果といった半構造データであり、
かつページ数がかなり多かったため、直接HTMLを作成するだけではなく、XMLでコンテンツを書いて、
XSLTでHTMLに変換する仕組みも用意しています。

## 多言語対応

サイトの性格上、日本語、英語、ドイツ語、フランス語、イタリア語、ロシア語など、多数の言語を
単一のページ内で同時に使用できる必要がありました。しかし、当時はWebでもISO-2022-JP, EUC-JP,
Shift JISなどが主流で、WebブラウザのUTF-8対応もまだ十分ではなかったようです。

そのため、HTMLを生成する際、UTF-8版とISO-2022-JP版の2つを生成するということをしています。
ISO-2022-JPで表示がうまくいかない文字については、例えば á を ['a] と表記する、といった独自記法を
定め、UTF-8版ではそのまま á と表記する一方、ISO-2022-JP版では独自記法を使用するようにしました。

## アーキテクチャ

後で書きます。
